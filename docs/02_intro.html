<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Working with Datasets – IAB R Crash Course 2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_desc.html" rel="next">
<link href="./01_intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">



<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02_intro.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Working with Datasets</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">IAB R Crash Course 2025</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started with R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Working with Datasets</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_desc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Getting an Overview</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_data_wrangle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Wrangling I: Creating Variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_viz_translated.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Visualization with <code>{ggplot2}</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_reg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Regression models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_reg2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Regression Models: Extensions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_raw_to_table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">From data to table &amp; graph</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_merge_pivot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Wrangling II: Merging &amp; reshaping</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_labels_factor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Labels &amp; factors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Creating map Visualizations with <code>{ggplot2}</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references_translated.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Links &amp; Further Reading</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-structures-in-r-data.frame" id="toc-data-structures-in-r-data.frame" class="nav-link active" data-scroll-target="#data-structures-in-r-data.frame"><span class="header-section-number">2.1</span> Data Structures in R: <code>data.frame</code></a></li>
  <li><a href="#data-types-in-r" id="toc-data-types-in-r" class="nav-link" data-scroll-target="#data-types-in-r"><span class="header-section-number">2.2</span> Data Types in R</a>
  <ul class="collapse">
  <li><a href="#ue_1" id="toc-ue_1" class="nav-link" data-scroll-target="#ue_1"><span class="header-section-number">2.2.1</span> Exercise</a></li>
  </ul></li>
  <li><a href="#selecting-rows-columns" id="toc-selecting-rows-columns" class="nav-link" data-scroll-target="#selecting-rows-columns"><span class="header-section-number">2.3</span> Selecting Rows &amp; Columns</a></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><span class="header-section-number">2.4</span> Packages in R</a>
  <ul class="collapse">
  <li><a href="#fdz_install" id="toc-fdz_install" class="nav-link" data-scroll-target="#fdz_install"><span class="header-section-number">2.4.1</span> <code>install.packages()</code> on the IAB Servers</a></li>
  </ul></li>
  <li><a href="#tidyverse" id="toc-tidyverse" class="nav-link" data-scroll-target="#tidyverse"><span class="header-section-number">2.5</span> <code>{tidyverse}</code></a>
  <ul class="collapse">
  <li><a href="#pipe" id="toc-pipe" class="nav-link" data-scroll-target="#pipe"><span class="header-section-number">2.5.1</span> Chaining Commands with <code>%&gt;%</code></a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"><span class="header-section-number">2.5.2</span> Selecting Observations with <code>filter()</code></a></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"><span class="header-section-number">2.5.3</span> Selecting variables with <code>select()</code></a></li>
  <li><a href="#selecting-rows-with-slice" id="toc-selecting-rows-with-slice" class="nav-link" data-scroll-target="#selecting-rows-with-slice"><span class="header-section-number">2.5.4</span> Selecting Rows with <code>slice()</code></a></li>
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange"><span class="header-section-number">2.5.5</span> Sorting data with <code>arrange()</code></a></li>
  </ul></li>
  <li><a href="#variable-type-factor" id="toc-variable-type-factor" class="nav-link" data-scroll-target="#variable-type-factor"><span class="header-section-number">2.6</span> Variable type <code>factor</code></a>
  <ul class="collapse">
  <li><a href="#ue_3" id="toc-ue_3" class="nav-link" data-scroll-target="#ue_3"><span class="header-section-number">2.6.1</span> Exercise</a></li>
  </ul></li>
  <li><a href="#rproj" id="toc-rproj" class="nav-link" data-scroll-target="#rproj"><span class="header-section-number">2.7</span> Setting up a project</a></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import"><span class="header-section-number">2.8</span> Importing datasets</a>
  <ul class="collapse">
  <li><a href="#the-import-command" id="toc-the-import-command" class="nav-link" data-scroll-target="#the-import-command"><span class="header-section-number">2.8.1</span> The import command</a></li>
  <li><a href="#ue_4" id="toc-ue_4" class="nav-link" data-scroll-target="#ue_4"><span class="header-section-number">2.8.2</span> Exercise</a></li>
  </ul></li>
  <li><a href="#exporting-objects" id="toc-exporting-objects" class="nav-link" data-scroll-target="#exporting-objects"><span class="header-section-number">2.9</span> Exporting objects</a>
  <ul class="collapse">
  <li><a href="#ue_5" id="toc-ue_5" class="nav-link" data-scroll-target="#ue_5"><span class="header-section-number">2.9.1</span> Exercise</a></li>
  </ul></li>
  <li><a href="#overview-importing-and-exporting-data-sets" id="toc-overview-importing-and-exporting-data-sets" class="nav-link" data-scroll-target="#overview-importing-and-exporting-data-sets"><span class="header-section-number">2.10</span> Overview: Importing and exporting data sets</a></li>
  <li><a href="#getting-help" id="toc-getting-help" class="nav-link" data-scroll-target="#getting-help"><span class="header-section-number">2.11</span> Getting help</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">2.12</span> Exercises</a>
  <ul class="collapse">
  <li><a href="#data1" id="toc-data1" class="nav-link" data-scroll-target="#data1"><span class="header-section-number">2.12.1</span> Exercise 1</a></li>
  <li><a href="#data2" id="toc-data2" class="nav-link" data-scroll-target="#data2"><span class="header-section-number">2.12.2</span> Exercise 2</a></li>
  <li><a href="#data3" id="toc-data3" class="nav-link" data-scroll-target="#data3"><span class="header-section-number">2.12.3</span> Exercise 3</a></li>
  <li><a href="#data4" id="toc-data4" class="nav-link" data-scroll-target="#data4"><span class="header-section-number">2.12.4</span> Exercise 4</a></li>
  <li><a href="#data5" id="toc-data5" class="nav-link" data-scroll-target="#data5"><span class="header-section-number">2.12.5</span> Exercise 5</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix"><span class="header-section-number">2.13</span> Appendix</a>
  <ul class="collapse">
  <li><a href="#setwd" id="toc-setwd" class="nav-link" data-scroll-target="#setwd"><span class="header-section-number">2.13.1</span> Alternatives to R Projects</a></li>
  <li><a href="#selfiltbase" id="toc-selfiltbase" class="nav-link" data-scroll-target="#selfiltbase"><span class="header-section-number">2.13.2</span> Selecting Rows &amp; Columns Without <code>{dplyr}</code></a></li>
  <li><a href="#select-vs" id="toc-select-vs" class="nav-link" data-scroll-target="#select-vs"><span class="header-section-number">2.13.3</span> <code>select()</code> vs <code>$</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Working with Datasets</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<p><strong>(Late) Foreword on R and Command Structure</strong></p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<ol type="1">
<li>Everything is an object.</li>
<li>Everything has a name.</li>
<li>Everything we do is based on functions.</li>
<li>Functions come from “packages”<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, but we will also write our own functions.</li>
</ol>
<p>Points 1 and 2 are referred to as <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">Object-Oriented Programming (OOP)</a>. In this course, we will learn object-oriented programming.</p>
</div>
</div>
</div>
<p>Sounds good, right?</p>
<ul>
<li><p>Functions are (almost) always verbs followed by parentheses, e.g., <code>colnames()</code>, where the object to be processed is specified. This can be a variable or a dataset.</p></li>
<li><p>Options may also be specified within the parentheses—for example, the command to read <code>.dta</code> files is <code>read_dta(datensatz.dta, n_max = 100)</code>.</p></li>
<li><p>Line breaks are ignored by R, meaning we can write a command over multiple lines for better readability:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(object_name1,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">option1 =</span> very_long_choice,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">option2 =</span> another_choice)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>If we execute a function with <code>function(object_name, option1 = TRUE, option2 = FALSE)</code>, the result is displayed in the console.</p></li>
<li><p>If the result of a calculation or operation is not only to be displayed but retained for further steps, it must be stored under <code>name &lt;- ...</code>. The original object remains unchanged unless we explicitly overwrite it with <code>name &lt;- function(name)</code>. Here in the script, I often omit this step to see results directly, but to work with previous operations, we need to store them in R under an object name.</p></li>
<li><p>Options within <code>()</code> can also be specified based on the order.</p></li>
<li><p>The help for a function can be accessed with <code>?function()</code>, e.g., <code>?colnames()</code>.</p></li>
</ul>
<p>Some general aspects where working with R differs from other programs:</p>
<ul>
<li><p><del>R does not necessarily stop at a syntax error but tries to execute the remaining commands. <em>However:</em> RStudio stops with a syntax error from version <a href="https://stackoverflow.com/questions/73567974/how-to-make-r-by-default-not-stopping-when-an-error-is-encountered-while-running/73641357#73641357">2022.07</a> onwards.</del></p></li>
<li><p>For Stata users: no more <code>variable xyz already defined</code>. We can overwrite anything without <code>, replace</code>, or similar commands.</p></li>
<li><p>Due to object orientation, we can have multiple datasets open simultaneously, increasing flexibility.</p></li>
</ul>
<p>In the first session, we did some steps with R’s calculator function. However, R’s real strength lies in data processing—so let’s get started.</p>
<section id="data-structures-in-r-data.frame" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="data-structures-in-r-data.frame"><span class="header-section-number">2.1</span> Data Structures in R: <code>data.frame</code></h2>
<p>In the previous chapter, we combined the student numbers of the University of Bremen (19173), University of Vechta (5333), and University of Oldenburg (15643) under <code>studs</code> and related them to the professor numbers stored in <code>profs</code>. While this works fine, it is more organized to store related values together. For this, R provides the <code>data.frame</code>. We can store the two objects in a dataset by entering them into <code>data.frame</code> and storing the new object under <code>dat1</code>. When we call <code>dat1</code>, we see that the values have been combined row by row:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>studs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">19173</span>, <span class="dv">5333</span>, <span class="dv">15643</span>)  <span class="co"># Store student numbers under "studs"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>profs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">322</span>, <span class="dv">67</span>, <span class="dv">210</span>)        <span class="co"># Store professor numbers under "profs"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>dat1_orig <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(studs, profs)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>dat1_orig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs
1 19173   322
2  5333    67
3 15643   210</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">studs =</span> <span class="fu">c</span>(<span class="dv">19173</span>, <span class="dv">5333</span>, <span class="dv">15643</span>), </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">profs =</span> <span class="fu">c</span>(<span class="dv">322</span>, <span class="dv">67</span>, <span class="dv">210</span>),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">gegr  =</span> <span class="fu">c</span>(<span class="dv">1971</span>, <span class="dv">1830</span>, <span class="dv">1973</span>)) <span class="co"># Without intermediate objects</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>dat1    <span class="co"># Display the entire dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr
1 19173   322 1971
2  5333    67 1830
3 15643   210 1973</code></pre>
</div>
</div>
<p>In the first row, we see the values for the University of Bremen, in the second row for the University of Vechta, and so on. We can access the columns using <code>dataset_name$variable_name</code>. For example, we can display the <code>profs</code> column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>profs </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 322  67 210</code></pre>
</div>
</div>
<p>We can display the variable/column names of the dataset with <code>colnames()</code>/<code>names()</code>. Additionally, we can call the number of rows and columns using <code>nrow</code> and <code>ncol</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dat1) <span class="do">## Display variable/column names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "studs" "profs" "gegr" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat1) <span class="do">## Display variable/column names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "studs" "profs" "gegr" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(dat1) <span class="do">## Number of columns/variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(dat1) <span class="do">## Number of rows/cases</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>We can add new variables to the dataset by using <code>dataset_name$new_variable</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>stu_prof <span class="ot">&lt;-</span> dat1<span class="sc">$</span>studs<span class="sc">/</span>dat1<span class="sc">$</span>profs</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="do">## dat1 now has one more column:</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(dat1) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>dat1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof
1 19173   322 1971 59.54348
2  5333    67 1830 79.59701
3 15643   210 1973 74.49048</code></pre>
</div>
</div>
<p>We can also store one or more words in a variable, but letters/words must always be enclosed in <code>""</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>uni <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Uni Bremen"</span>, <span class="st">"Uni Vechta"</span>, <span class="st">"Uni Oldenburg"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>dat1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1 19173   322 1971 59.54348    Uni Bremen
2  5333    67 1830 79.59701    Uni Vechta
3 15643   210 1973 74.49048 Uni Oldenburg</code></pre>
</div>
</div>
<p>With <code>View(dat1)</code>, a new window opens where we can view the entire dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(dat1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/102_View.png" class="quarto-figure quarto-figure-center figure-img" style="width:45.0%;height:35.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="data-types-in-r" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="data-types-in-r"><span class="header-section-number">2.2</span> Data Types in R</h2>
<p>So far, we have encountered two variable types: numeric (contains numbers) and character (contains text or numbers that are understood as text). We also learned an organization method: <code>data.frame</code>.</p>
<p>The following variable types in R are important for us:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<div class="cell-output-display">
<div id="ggufvmupwy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ggufvmupwy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ggufvmupwy thead, #ggufvmupwy tbody, #ggufvmupwy tfoot, #ggufvmupwy tr, #ggufvmupwy td, #ggufvmupwy th {
  border-style: none;
}

#ggufvmupwy p {
  margin: 0;
  padding: 0;
}

#ggufvmupwy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ggufvmupwy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ggufvmupwy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ggufvmupwy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ggufvmupwy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ggufvmupwy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ggufvmupwy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ggufvmupwy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ggufvmupwy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ggufvmupwy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ggufvmupwy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ggufvmupwy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ggufvmupwy .gt_spanner_row {
  border-bottom-style: hidden;
}

#ggufvmupwy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ggufvmupwy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ggufvmupwy .gt_from_md > :first-child {
  margin-top: 0;
}

#ggufvmupwy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ggufvmupwy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ggufvmupwy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ggufvmupwy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ggufvmupwy .gt_row_group_first td {
  border-top-width: 2px;
}

#ggufvmupwy .gt_row_group_first th {
  border-top-width: 2px;
}

#ggufvmupwy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ggufvmupwy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ggufvmupwy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ggufvmupwy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ggufvmupwy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ggufvmupwy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ggufvmupwy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ggufvmupwy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ggufvmupwy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ggufvmupwy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ggufvmupwy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ggufvmupwy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ggufvmupwy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ggufvmupwy .gt_left {
  text-align: left;
}

#ggufvmupwy .gt_center {
  text-align: center;
}

#ggufvmupwy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ggufvmupwy .gt_font_normal {
  font-weight: normal;
}

#ggufvmupwy .gt_font_bold {
  font-weight: bold;
}

#ggufvmupwy .gt_font_italic {
  font-style: italic;
}

#ggufvmupwy .gt_super {
  font-size: 65%;
}

#ggufvmupwy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ggufvmupwy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ggufvmupwy .gt_indent_1 {
  text-indent: 5px;
}

#ggufvmupwy .gt_indent_2 {
  text-indent: 10px;
}

#ggufvmupwy .gt_indent_3 {
  text-indent: 15px;
}

#ggufvmupwy .gt_indent_4 {
  text-indent: 20px;
}

#ggufvmupwy .gt_indent_5 {
  text-indent: 25px;
}

#ggufvmupwy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ggufvmupwy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header gt_heading">
<th colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border">Vectors (Variables)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="class">integer <br> double</td>
<td class="gt_row gt_left" headers="Description">Numeric values (<code>numeric</code>)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="class">character</td>
<td class="gt_row gt_left" headers="Description">Text (or numbers understood as text)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="class">factor</td>
<td class="gt_row gt_left" headers="Description">Text or numbers understood as text with predefined sorting and fixed value universe</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="class">logical</td>
<td class="gt_row gt_left" headers="Description"><code>TRUE</code> or <code>FALSE</code>—mostly the result of a comparison (greater/less/equal)</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output-display">
<div id="peomaekmja" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#peomaekmja table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#peomaekmja thead, #peomaekmja tbody, #peomaekmja tfoot, #peomaekmja tr, #peomaekmja td, #peomaekmja th {
  border-style: none;
}

#peomaekmja p {
  margin: 0;
  padding: 0;
}

#peomaekmja .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#peomaekmja .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#peomaekmja .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#peomaekmja .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#peomaekmja .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#peomaekmja .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#peomaekmja .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#peomaekmja .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#peomaekmja .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#peomaekmja .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#peomaekmja .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#peomaekmja .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#peomaekmja .gt_spanner_row {
  border-bottom-style: hidden;
}

#peomaekmja .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#peomaekmja .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#peomaekmja .gt_from_md > :first-child {
  margin-top: 0;
}

#peomaekmja .gt_from_md > :last-child {
  margin-bottom: 0;
}

#peomaekmja .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#peomaekmja .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#peomaekmja .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#peomaekmja .gt_row_group_first td {
  border-top-width: 2px;
}

#peomaekmja .gt_row_group_first th {
  border-top-width: 2px;
}

#peomaekmja .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#peomaekmja .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#peomaekmja .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#peomaekmja .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#peomaekmja .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#peomaekmja .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#peomaekmja .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#peomaekmja .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#peomaekmja .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#peomaekmja .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#peomaekmja .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#peomaekmja .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#peomaekmja .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#peomaekmja .gt_left {
  text-align: left;
}

#peomaekmja .gt_center {
  text-align: center;
}

#peomaekmja .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#peomaekmja .gt_font_normal {
  font-weight: normal;
}

#peomaekmja .gt_font_bold {
  font-weight: bold;
}

#peomaekmja .gt_font_italic {
  font-style: italic;
}

#peomaekmja .gt_super {
  font-size: 65%;
}

#peomaekmja .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#peomaekmja .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#peomaekmja .gt_indent_1 {
  text-indent: 5px;
}

#peomaekmja .gt_indent_2 {
  text-indent: 10px;
}

#peomaekmja .gt_indent_3 {
  text-indent: 15px;
}

#peomaekmja .gt_indent_4 {
  text-indent: 20px;
}

#peomaekmja .gt_indent_5 {
  text-indent: 25px;
}

#peomaekmja .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#peomaekmja div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header gt_heading">
<th colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border">Combined Vectors</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="class">data.frame <br> tibble</td>
<td class="gt_row gt_left" headers="Description">Two-dimensional data structure organized in tabular form—<code>tibble</code> is an enhancement of <code>data.frame</code> in the tidyverse (more on this <a href="#tidyverse">later</a>)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="class">list</td>
<td class="gt_row gt_left" headers="Description">Ordered collection of vectors of different types—can contain other value types, <code>data.frame</code>, or even other lists</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>For now, we focus on character and numeric variables. We will discuss the other types when they are needed. With <code>class()</code>, we can examine the type of a variable, or with <code>is.numeric()</code> or <code>is.character()</code>, we can check whether a variable belongs to a certain type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>profs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>uni)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>We can enforce a type change with <code>as.character()</code> or <code>as.numeric()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(dat1<span class="sc">$</span>profs) <span class="do">## The "" indicate that the variable is defined as character</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "322" "67"  "210"</code></pre>
</div>
</div>
<p>This does not change the original variable <code>dat1$profs</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>profs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>If we want to keep this conversion for <code>dat1$profs</code>, we need to overwrite the variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>profs <span class="ot">&lt;-</span> <span class="fu">as.character</span>(dat1<span class="sc">$</span>profs)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>profs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>We cannot perform calculations with <code>character</code> variables, even if they contain numbers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>profs <span class="sc">/</span> <span class="dv">2</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in dat1$profs/2: nicht-numerisches Argument für binären Operator</code></pre>
</div>
</div>
<p>However, we can convert <code>dat1$profs</code> to numeric on the fly to perform calculations:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(dat1<span class="sc">$</span>profs) <span class="sc">/</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 161.0  33.5 105.0</code></pre>
</div>
</div>
<p>If we convert text variables to numeric, calculations result in <code>NA</code>. <code>NA</code> in R stands for missing values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(dat1<span class="sc">$</span>uni)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: NAs durch Umwandlung erzeugt</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA NA NA</code></pre>
</div>
</div>
<p>R, understandably, does not know how to convert university names into numbers.</p>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>A common issue in calculations is due to incorrect variable types.</p>
</div>
</div>
</div>
<section id="ue_1" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="ue_1"><span class="header-section-number">2.2.1</span> <a href="#data1">Exercise</a></h3>
</section>
</section>
<section id="selecting-rows-columns" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="selecting-rows-columns"><span class="header-section-number">2.3</span> Selecting Rows &amp; Columns</h2>
<p>A typical task when working with datasets is selecting rows (“cases”) and columns (“variables”).</p>
<p>For this, R in its base version<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> provides a selection method using <code>[]</code>. The basic structure is <code>[row_selection, column_selection]</code>. Leaving out the part before or after the comma selects all rows/columns. Be careful: forgetting the comma is a common source of errors in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="co"># complete dataset</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>dat1[<span class="dv">1</span>,<span class="dv">1</span>] <span class="co"># first row, first column</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>dat1[<span class="dv">1</span>,]  <span class="co"># first row, all columns</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>dat1[,<span class="dv">1</span>]  <span class="co"># all rows, first column (equivalent to dat1$studs)</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>dat1[,<span class="st">"studs"</span>] <span class="co"># all rows, column named studs -&gt; note: ""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In these square brackets, you can also write conditions to make selections from <code>dat1</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>dat1[dat1<span class="sc">$</span>studs <span class="sc">&gt;</span> <span class="dv">10000</span>, ] <span class="co"># rows where studs is greater than 10000, all columns</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>dat1[dat1<span class="sc">$</span>studs <span class="sc">&gt;</span> <span class="dv">10000</span> <span class="sc">&amp;</span> dat1<span class="sc">$</span>profs <span class="sc">&lt;</span> <span class="dv">300</span>, ] <span class="co"># &amp; means AND</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>profs[dat1<span class="sc">$</span>studs <span class="sc">&gt;</span> <span class="dv">10000</span>] <span class="co"># Only see the number of professors: no comma</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Repetitive use of the dataset name in the <code>[]</code> makes the syntax quite long and somewhat tedious. Therefore, there is a better/more convenient solution. We use the <code>{dplyr}</code> package<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
</section>
<section id="packages" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="packages"><span class="header-section-number">2.4</span> Packages in R</h2>
<p>Packages are extensions for R that include additional functions, some might be familiar with Stata’s ado files. Packages need to be installed once and then loaded before use in a new session (i.e., after every restart of R/RStudio). <code>install.packages()</code> performs the installation, and <code>library()</code> loads the packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"Package"</span>) <span class="co"># only needed once on your PC</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Package) <span class="co"># needed after every restart</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Often, when using <code>install.packages()</code>, not only the specified package is downloaded but also a number of other packages, the so-called “dependencies”. These are packages used in the background to enable the functions of the desired package. So don’t be surprised if the installation takes a bit longer.</p>
<p>With <code>install.packages()</code> we essentially screw in the light bulb in R, with <code>library()</code> we flip the switch so we can use the functions from the package. Each restart turns the light bulb off again, and we need to turn it back on with <code>library()</code>. The advantage is that we don’t have to turn on all the light bulbs at once when starting R.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/104_install-packages.jpg" style="width:53.0%;height:53.0%" class="figure-img"></p>
<figcaption>Source: <a href="https://twitter.com/visnut/status/1248087845589274624">Dianne Cook</a></figcaption>
</figure>
</div>
</div>
</div>
<section id="fdz_install" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="fdz_install"><span class="header-section-number">2.4.1</span> <code>install.packages()</code> on the IAB Servers</h3>
<div class="callout callout-style-simple callout-caution">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>R Packages are typically installed from <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">CRAN</a>. However, this is not possible on the servers at IAB due to isolation from the internet. As a result, package installation is restricted on IAB servers to the collection maintained by DIM at <code>N:/Ablagen/D01700-Allgemein/R/bin/windows/contrib/</code>.</p>
<p>A central challenge in installing from local zip files is handling <em>dependencies</em>: packages that the desired package relies on. When installing from the internet, dependencies are automatically installed, but with a local installation, this is not the case.</p>
<p>At IAB, some workarounds exist, and currently, I have a solution in progress at FDZ based on a <code>.Rprofile</code> file that provides the <code>fdz_install()</code> command, which behaves like the standard <code>install.packages()</code> command (or should, at least).</p>
<p>The most recent version of the <code>.Rprofile</code> file can be found under <code>N:\Ablagen\D01700-Quickablage\Filser\2025-06_Rprofile.R</code>. Place the <code>.Rprofile</code> file in <code>C:\Users\*YOUR_USERNAME*\Documents</code> and restart R (<code>CTRL + F10</code>), you should then see a similar message in the console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="sc">----------------------------------------</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>IAB<span class="sc">-</span>FDZ .Rprofile</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>Version <span class="fl">0.6</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="sc">----------------------------------------</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Working directory<span class="sc">:</span>                   Z<span class="sc">:</span><span class="er">/</span>Eigene Dateien</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Default package library<span class="sc">:</span>             Z<span class="sc">:</span><span class="er">/</span>R<span class="sc">/</span><span class="dv">4-4</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> HOME directory<span class="sc">:</span>                      C<span class="sc">:</span>\Users\FilserA001.IAB\Documents</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> R_home directory<span class="sc">:</span>                    C<span class="sc">:</span><span class="er">/</span>PROGRA<span class="sc">~</span><span class="dv">1</span><span class="sc">/</span>R<span class="sc">/</span>R<span class="dv">-4</span>.<span class="fl">4.0</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="sc">----------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To make matters more comfortable, you can run this code once to copy the .Rprofile from my Quickablage into your Documents folder on the server you’re working on:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">file.copy</span>(<span class="at">from =</span> <span class="st">"N:/Ablagen/D01700-Quickablage/Filser/2025-06_Rprofile.R"</span>,</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">to   =</span> <span class="fu">paste0</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dir</span>(<span class="at">path =</span> <span class="st">"C:/Users/"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pattern =</span> <span class="fu">Sys.getenv</span>(<span class="st">"USERNAME"</span>), <span class="co"># find correct User-Folder on C:</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">full.names =</span> T),</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"/Documents/.Rprofile"</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>          )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://support.posit.co/hc/en-us/articles/360047157094-Managing-R-with-Rprofile-Renviron-Rprofile-site-Renviron-site-rsession-conf-and-repos-conf"><strong>More about RProfile</strong></a></p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Loading packages once
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In addition to <code>library()</code>, you can also call functions from packages using <code>::</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>package<span class="sc">::</span><span class="cf">function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This option is often used when only one function from a package is used or to clarify which package the function comes from. It can also help with issues if a command from another package has the same name—this will override the previous command (usually with a warning), which might look like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>The following objects are masked from ‘package<span class="sc">:</span>dplyr’<span class="sc">:</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    between, first, last</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>The following object is masked from ‘package<span class="sc">:</span>purrr’<span class="sc">:</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    transpose</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This can be avoided by not fully loading certain packages but only calling the necessary functions with <code>::</code>.</p>
</div>
</div>
</div>
</section>
</section>
<section id="tidyverse" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="tidyverse"><span class="header-section-number">2.5</span> <code>{tidyverse}</code></h2>
<p>In this course, we will mainly work with packages from the <a href="www.tidyverse.org/"><code>{tidyverse}</code></a>. The tidyverse is a collection of packages that share common syntax logic and thus harmonize particularly well and cover a broad range of use cases. With</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fdz_install</span>(<span class="st">"tidyverse"</span>) <span class="co"># on IAB servers with .Rprofile</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>the following packages are installed:</p>
<p>broom, conflicted, cli, dbplyr, dplyr, dtplyr, forcats, ggplot2, googledrive, googlesheets4, haven, hms, httr, jsonlite, lubridate, magrittr, modelr, pillar, purrr, ragg, readr, readxl, reprex, rlang, rstudioapi, rvest, stringr, tibble, tidyr, xml2, tidyverse</p>
<p>We will get to know some of them during the course. The initially most important one is <code>{dplyr}</code>, which makes selecting cases and variables easier:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/103_dplyr_en.png" style="width:80.0%;height:80.0%" class="figure-img"></p>
<figcaption>Illustration based on the <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-transformation.pdf"><code>{dplyr}</code> Cheatsheet</a></figcaption>
</figure>
</div>
</div>
</div>
<p>But installation is only the first step; we need to load the package with <code>library()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># after once using install.packages("tidyverse")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="pipe" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="pipe"><span class="header-section-number">2.5.1</span> Chaining Commands with <code>%&gt;%</code></h3>
<p>In R, <code>dplyr</code> and other <code>{tidyverse}</code> packages use <code>%&gt;%</code> (the pipe operator) to chain commands. This is a way to streamline commands and improve readability:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(studs <span class="sc">&gt;</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(uni,studs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            uni studs
1    Uni Bremen 19173
2 Uni Oldenburg 15643</code></pre>
</div>
</div>
<p>Here, <code>%&gt;%</code> takes the output of one function and passes it as an input to the next function. This operator allows you to read and write code that closely resembles natural language. <code>%&gt;%</code>[^pipe] simply stands for “and then”.</p>
<ol type="1">
<li>Call <code>dat1</code> <em>and then (<code>%&gt;%</code>)</em></li>
<li>Select only rows where <code>studs</code> &gt; 10000 <em>and then (<code>%&gt;%</code>)</em></li>
<li>Keep only the <code>uni</code> column</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(.,studs <span class="sc">&gt;</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(.,uni) <span class="co"># the dot represents the result of the previous step</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Usually it’s written just like this</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(studs <span class="sc">&gt;</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(uni)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            uni
1    Uni Bremen
2 Uni Oldenburg</code></pre>
</div>
</div>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The shortcut for <code>%&gt;%</code> is STRG+SHIFT+m (cmd+shift+m on Mac)</p>
</div>
</div>
</div>
<p>Let’s a have a closer look at <code>filter()</code> and <code>select()</code>:</p>
</section>
<section id="filter" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="filter"><span class="header-section-number">2.5.2</span> Selecting Observations with <code>filter()</code></h3>
<p>With <code>filter()</code>, we can select rows from <code>dat1</code> based on conditions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(uni <span class="sc">==</span> <span class="st">"Uni Oldenburg"</span>, studs <span class="sc">&gt;</span> <span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1 15643   210 1973 74.49048 Uni Oldenburg</code></pre>
</div>
</div>
<p>The selection does not change the original object <code>dat1</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>dat1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1 19173   322 1971 59.54348    Uni Bremen
2  5333    67 1830 79.59701    Uni Vechta
3 15643   210 1973 74.49048 Uni Oldenburg</code></pre>
</div>
</div>
<p>If we want to keep the result of our selection with <code>filter()</code> for further steps, we can store it in a new <code>data.frame</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>over_10k <span class="ot">&lt;-</span> <span class="fu">filter</span>(dat1, studs <span class="sc">&gt;</span> <span class="dv">10000</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>over_10k</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1 19173   322 1971 59.54348    Uni Bremen
2 15643   210 1973 74.49048 Uni Oldenburg</code></pre>
</div>
</div>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>filter()</code> helpers
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>{dplyr}</code> provides a number of helpers for <code>filter()</code>:</p>
<ul>
<li>greater/smaller than or equal to: <code>&lt;=</code> <code>&gt;=</code></li>
<li>or: <code>|</code></li>
<li>one of: <code>%in%</code></li>
<li>within a given range: <code>between()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(dat1, studs <span class="sc">&gt;=</span> <span class="dv">10000</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(dat1, studs <span class="sc">&lt;=</span> <span class="dv">10000</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(dat1,studs <span class="sc">&gt;</span> <span class="dv">10000</span> <span class="sc">|</span> profs <span class="sc">&lt;</span> <span class="dv">200</span>) <span class="co"># more than 10.000 Students *or* less than 200 professors</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(dat1, gegr <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1971</span>,<span class="dv">1830</span>)) <span class="co"># founded 1971 or 1830</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(dat1, <span class="fu">between</span>(gegr,<span class="dv">1971</span>,<span class="dv">1830</span>)) <span class="co"># founded between 1971 and 1830 (including)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="select" class="level3" data-number="2.5.3">
<h3 data-number="2.5.3" class="anchored" data-anchor-id="select"><span class="header-section-number">2.5.3</span> Selecting variables with <code>select()</code></h3>
<p><code>select()</code> allows us to select specific columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(uni,studs) <span class="co"># columns uni and studs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            uni studs
1    Uni Bremen 19173
2    Uni Vechta  5333
3 Uni Oldenburg 15643</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="co"># column 1-3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr
1 19173   322 1971
2  5333    67 1830
3 15643   210 1973</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>profs) <span class="co"># all but profs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs gegr stu_prof           uni
1 19173 1971 59.54348    Uni Bremen
2  5333 1830 79.59701    Uni Vechta
3 15643 1973 74.49048 Uni Oldenburg</code></pre>
</div>
</div>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>select()</code> helpers
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><code>contains("b")</code>: Variable name <em>contains</em> <code>...</code>,</li>
<li><code>matches()</code>: Variable selection using <a href="https://jfjelstul.github.io/regular-expressions-tutorial/"><em>regular expressions</em></a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"s"</span>)) <span class="co"># all variables containing s</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"s$"</span>)) <span class="co"># all variables ending on s</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="selecting-rows-with-slice" class="level3" data-number="2.5.4">
<h3 data-number="2.5.4" class="anchored" data-anchor-id="selecting-rows-with-slice"><span class="header-section-number">2.5.4</span> Selecting Rows with <code>slice()</code></h3>
<p>A first function from <code>{tidyverse}</code> is <code>slice()</code>, which allows us to select rows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(dat1,<span class="dv">1</span>) <span class="co"># first row</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(dat1,<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) <span class="co"># rows 2-3</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(dat1,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)) <span class="co"># rows 1 and 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="arrange" class="level3" data-number="2.5.5">
<h3 data-number="2.5.5" class="anchored" data-anchor-id="arrange"><span class="header-section-number">2.5.5</span> Sorting data with <code>arrange()</code></h3>
<p>Another common task in data analysis is sorting datasets. For this, we use <code>arrange()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(studs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1  5333    67 1830 79.59701    Uni Vechta
2 15643   210 1973 74.49048 Uni Oldenburg
3 19173   322 1971 59.54348    Uni Bremen</code></pre>
</div>
</div>
<p>This also works for <code>string</code> variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(uni)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1 19173   322 1971 59.54348    Uni Bremen
2 15643   210 1973 74.49048 Uni Oldenburg
3  5333    67 1830 79.59701    Uni Vechta</code></pre>
</div>
</div>
<p>Of course, we can also sort by multiple variables; we just add more to <code>arrange()</code> and we can sort in descending order using <code>desc()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(gegr), studs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni
1 15643   210 1973 74.49048 Uni Oldenburg
2 19173   322 1971 59.54348    Uni Bremen
3  5333    67 1830 79.59701    Uni Vechta</code></pre>
</div>
</div>
<p>(This doesn’t make much sense in this example.)</p>
</section>
</section>
<section id="variable-type-factor" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="variable-type-factor"><span class="header-section-number">2.6</span> Variable type <code>factor</code></h2>
<p>But what if we want to assign a specific order that doesn’t follow numeric or alphabetical order? For example, if we want to order the universities as follows: 1) Uni Oldenburg, 2) Uni Bremen, and 3) Uni Vechta.</p>
<p>This is where a third variable type comes in: <code>factor</code>.</p>
<p>With the <code>levels =</code> argument, we can define an order:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(dat1<span class="sc">$</span>uni, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Uni Oldenburg"</span>, <span class="st">"Uni Bremen"</span>, <span class="st">"Uni Vechta"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Uni Bremen    Uni Vechta    Uni Oldenburg
Levels: Uni Oldenburg Uni Bremen Uni Vechta</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>uni_fct <span class="ot">&lt;-</span> <span class="fu">factor</span>(dat1<span class="sc">$</span>uni, </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Uni Oldenburg"</span>, <span class="st">"Uni Bremen"</span>, <span class="st">"Uni Vechta"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we now sort by <code>uni_fct</code>, the order of the <code>levels</code> is respected:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>uni_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(uni_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct
1 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg
2 19173   322 1971 59.54348    Uni Bremen    Uni Bremen
3  5333    67 1830 79.59701    Uni Vechta    Uni Vechta</code></pre>
</div>
</div>
<p>This may seem trivial at the moment but is very useful later for ordering variables in plots or setting the reference category in regression models.</p>
<p>We can use the <code>levels =</code> and <code>labels =</code> for a lazy recode:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>gegr_fct <span class="ot">&lt;-</span> <span class="fu">factor</span>(dat1<span class="sc">$</span>gegr,</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1830</span>,<span class="dv">1971</span>,<span class="dv">1973</span>) ,</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"early"</span>,<span class="st">"70s"</span>,<span class="st">"70s"</span>)) <span class="co"># labels do not need to be unique</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>dat1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
1 19173   322 1971 59.54348    Uni Bremen    Uni Bremen      70s
2  5333    67 1830 79.59701    Uni Vechta    Uni Vechta    early
3 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(gegr_fct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
1 19173   322 1971 59.54348    Uni Bremen    Uni Bremen      70s
2 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s
3  5333    67 1830 79.59701    Uni Vechta    Uni Vechta    early</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(gegr_fct),gegr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
1 19173   322 1971 59.54348    Uni Bremen    Uni Bremen      70s
2 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s
3  5333    67 1830 79.59701    Uni Vechta    Uni Vechta    early</code></pre>
</div>
</div>
<section id="ue_3" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="ue_3"><span class="header-section-number">2.6.1</span> <a href="#data3">Exercise</a></h3>
</section>
</section>
<section id="rproj" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="rproj"><span class="header-section-number">2.7</span> Setting up a project</h2>
<p>In general, it’s worth setting up projects in RStudio. Projects are <code>.Rproj</code> files <img src="./pic/rproj-icon.png" class="img-fluid" width="30"> that automatically set the working directory to where they are saved. This simplifies collaborative work: no matter who is working on a project or on which device, the project file ensures all paths are always relative to the project directory. Furthermore, version control via git, e.g., <a href="www.github.com">github</a>, and other functions can be set in the project file for all users. Also, the last open scripts remain open, making it easier to work on multiple projects.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/102_Rproj.png" class="quarto-figure quarto-figure-center figure-img" style="width:65.0%;height:55.0%"></p>
</figure>
</div>
</div>
</div>
<p>With <code>getwd()</code>, we can check if it worked:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "D:/Courses/R-Course"</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/102_Rproj2.png" class="quarto-figure quarto-figure-center figure-img" style="width:75.0%;height:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Alternatively, we could create an .Rproj project with the following command (here’s an example of calling a package with <code>::</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>rstudioapi<span class="sc">::</span><span class="fu">initializeProject</span>(<span class="at">path =</span> <span class="st">"D:/Courses/R-Course"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can open the project with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>rstudioapi<span class="sc">::</span><span class="fu">openProject</span>(<span class="at">path =</span> <span class="st">"D:/Courses/R-Course"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="{..callout-tip}">
<p>R-Projects are a great way to maintain your projects and also can help to ensure reproducibility in conjunction with the <a href="#fdz_install">FDZ <code>.Rprofile</code></a>:</p>
<p>By default, the <code>.Rprofile</code> stores all packages installed via <code>fdz_install()</code> in your personal Documents folder on <code>Z:</code>, as you can see in the startup message in the path displayed as <strong>Default package library:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Default package library<span class="sc">:</span>             Z<span class="sc">:</span><span class="er">/</span>R<span class="sc">/</span><span class="dv">4-4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This has the disadvantage that you might overwrite packages when working on different projects. In the worst case, you’re break code from older projects when updating to a newer version of a package. You’ll have to track down the original package version when you’re trying to re-run code from the older project. ⚠️ This can be extremely painful and make you question what life decisions brought you here. ⚠️</p>
<p>Therefore, I recommend setting up a **project-specific* RProfile for projects that require reprodicibility: 1️⃣ copy the <code>.Rprofile</code> to your project-root-directory 2️⃣ amend the first few lines so that packages are loaded and installed from within the project folder by changing lines 11-19</p>
</div>
</section>
<section id="import" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="import"><span class="header-section-number">2.8</span> Importing datasets</h2>
<p>In most cases, we’ll use datasets that are already saved in a file and just need to be imported. There are countless ways to do this.</p>
<p>In this seminar, we’ll work with the Campus-File of PASS, whose parts are available as Stata files.</p>
<p>To import the dataset into R, we need to tell R the file path where the dataset is located. The file path depends on your device’s folder structure; in this case, it would be “D:/Courses/R-Course/”.</p>
<p>Of course, the file path depends on where you saved the dataset:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/102_dateipfad_datei.png" class="quarto-figure quarto-figure-center figure-img" style="width:45.0%;height:45.0%"></p>
</figure>
</div>
</div>
</div>
<p>We need to inform R of this file path.</p>
<section id="the-import-command" class="level3" data-number="2.8.1">
<h3 data-number="2.8.1" class="anchored" data-anchor-id="the-import-command"><span class="header-section-number">2.8.1</span> The import command</h3>
<p>Now we can use the actual import command <code>read.table</code>. For the path, we can just enter the quotation marks after <code>file =</code> and press the Tab key. Then we’ll see all subdirectories and tables in the project folder.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>pend <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"./orig/PENDDAT_cf_W13.dta"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The import process consists of two parts: first, we specify the object name as <code>pend</code>, under which R will store the dataset. After the <code>&lt;-</code> is the actual <code>read_dta()</code> command, which contains several options. First, we specify the exact dataset name, including the file extension.</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
R has problems with Windows-style <code>\</code> in file paths
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Unfortunately, Windows systems use <code>\</code> in file paths, which causes problems in R. Therefore, file paths must always be specified with <code>/</code> or alternatively with <code>\\</code>. RStudio can help a bit with the <em>CTRL + F</em>/Search &amp; Replace function.</p>
</div>
</div>
</div>
<p>The object created is a <code>data.frame</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(pend)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
<p>Technically, it’s a <code>tibble</code>—an enhanced version of <code>data.frame</code> in the <code>tidyverse</code> that includes labels and provides additional information in its display, such as variable classes in the first row.</p>
<p>If we were to simply type <code>pend</code> here, the entire dataset would be displayed. For an overview, we can use <code>head</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pend)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 123
         pnr      hnr welle   pintjahr pintmon pintmod  zpsex   palter PD0400   
       &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl+l&gt; &lt;dbl+lb&gt; &lt;dbl+l&gt; &lt;dbl+lb&gt; &lt;dbl+l&gt; &lt;dbl+&gt; &lt;dbl+lbl&gt;
1 1000001901 10000019 1 [Wav… 2007     5 [May]  1 [CAP… 2 [Fem… 36       2 [Rat…
2 1000001902 10000019 1 [Wav… 2007     5 [May] NA       1 [Mal… 39       2 [Rat…
3 1000001901 10000019 3 [Wav… 2009     3 [Mar…  1 [CAP… 2 [Fem… 38      -9 [Ite…
4 1000002001 10000020 1 [Wav… 2007     4 [Apr…  1 [CAP… 1 [Mal… 66     -10 [Ite…
5 1000002002 10000020 1 [Wav… 2007     4 [Apr…  1 [CAP… 2 [Fem… 61       3 [Rat…
6 1000002002 10000020 2 [Wav… 2008     5 [May]  1 [CAP… 2 [Fem… 62       3 [Rat…
# ℹ 114 more variables: PA0100 &lt;dbl+lbl&gt;, PA0200 &lt;dbl+lbl&gt;, PA0300 &lt;dbl+lbl&gt;,
#   PA0445 &lt;dbl+lbl&gt;, PA0800 &lt;dbl+lbl&gt;, PA0900 &lt;dbl+lbl&gt;, PA1000 &lt;dbl+lbl&gt;,
#   PSM0100 &lt;dbl+lbl&gt;, PEO0100a &lt;dbl+lbl&gt;, PEO0100b &lt;dbl+lbl&gt;,
#   PEO0100c &lt;dbl+lbl&gt;, PEO0100d &lt;dbl+lbl&gt;, PEO0100e &lt;dbl+lbl&gt;,
#   PEO0200a &lt;dbl+lbl&gt;, PEO0200b &lt;dbl+lbl&gt;, PEO0200c &lt;dbl+lbl&gt;,
#   PEO0200d &lt;dbl+lbl&gt;, PEO0300a &lt;dbl+lbl&gt;, PEO0300b &lt;dbl+lbl&gt;,
#   PEO0300c &lt;dbl+lbl&gt;, PEO0300d &lt;dbl+lbl&gt;, PEO0300e &lt;dbl+lbl&gt;, …</code></pre>
</div>
</div>
<p>With <code>nrow</code> and <code>ncol</code>, we can check if it worked. The dataset should have 28424 rows and 123 columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(pend)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 28424</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(pend)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 123</code></pre>
</div>
</div>
<p>Of course, we can also select rows and columns from this much larger dataset as we did before. For example, we can select the data from 2006 and store it under <code>pend06</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>pend06 <span class="ot">&lt;-</span> pend <span class="sc">%&gt;%</span> <span class="fu">filter</span>(pintjahr <span class="sc">==</span> <span class="dv">2006</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Naturally, <code>pend06</code> has significantly fewer rows than <code>pend</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(pend06)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 168</code></pre>
</div>
</div>
<p>If we want to see the exact ages of the respondents from <code>pend06</code>, we can call up the corresponding column with <code>pend06$palter</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>pend06<span class="sc">$</span>palter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;labelled&lt;double&gt;[168]&gt;: Age (W1: gen. from P1; W2 ff.: best info.), gen.
  [1] 71 66 64 64 63 51 64 65 26 38 41 63 58 58 69 45 59 37 28 63 56 29 29 49 47
 [26] 66 34 22 21 37 36 58 56 80 44 65 61 66 40 53 34 70 69 54 65 62 58 54 51 57
 [51] 72 52 25 34 55 44 68 73 46 87 74 83 46 40 62 58 66 41 53 71 66 79 54 42 68
 [76] 68 81 92 70 66 68 77 44 66 66 67 62 43 35 35 52 54 20 48 48 20 41 24 22 33
[101] 55 41 50 36 19 52 25 36 37 29 37 36 43 49 16 59 28 19 43 44 30 43 50 50 53
[126] 52 71 43 58 58 58 38 49 30 27 50 58 26 36 44 28 19 42 44 23 20 33 24 31 32
[151] 31 44 50 58 45 57 37 62 46 52 50 47 40 62 40 19 28 35

Labels:
 value                                      label
   -10 Item not surveyed in questionnaire version
    -9                  Item not surveyed in wave
    -8                          Implausible value
    -4              Question mistakenly not asked
    -3                    Not applicable (filter)
    -2                            Details refused
    -1                                 Don't know</code></pre>
</div>
</div>
<p>As we’ve seen, there are many more variables in PASS than just <code>palter</code>, and not all have such meaningful names—like <code>PD0400</code>. To understand these variable names and the meaning of the values, we need the codebook.</p>
<p>We can also access a variable’s <code>attributes()</code>—more on labels later.</p>
</section>
<section id="ue_4" class="level3" data-number="2.8.2">
<h3 data-number="2.8.2" class="anchored" data-anchor-id="ue_4"><span class="header-section-number">2.8.2</span> <a href="#data4">Exercise</a></h3>
</section>
</section>
<section id="exporting-objects" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="exporting-objects"><span class="header-section-number">2.9</span> Exporting objects</h2>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The term <em>save</em> can sometimes lead to misunderstandings in R: does it mean</p>
<ol type="1">
<li><p>saving a dataset or other object to disk as .csv, .dta, .sav for access by other programs, or</p></li>
<li><p>simply storing the results internally in R under an object name?</p></li>
</ol>
<p>I avoid the word save and instead speak of exporting (Case 1: writing to a file) or storing (Case 2: storing results/values within R in an object).</p>
</div>
</div>
</div>
<p>The proprietary format in R for exporting <code>data.frame</code>s and reloading afterwards is <code>.RData</code> (comparable to <code>dta</code> in Stata):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(pend06, <span class="at">file =</span> <span class="st">"./data/pend06.RData"</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(pend06) <span class="co"># delete pend06 from memory</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>pend06_neu <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"./data/pend06.RData"</span>)</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pend06) <span class="co"># does not exist anymore -&gt; rm()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: Objekt 'pend06' nicht gefunden</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pend06_neu,<span class="at">n=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 123
         pnr      hnr welle   pintjahr pintmon  pintmod zpsex   palter PD0400   
       &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl+l&gt; &lt;dbl+lb&gt; &lt;dbl+lb&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+&gt; &lt;dbl+lbl&gt;
1 1000402601 10004026 1 [Wav… 2006     12 [Dec… 0 [CAT… 1 [Mal… 71     -10 [Ite…
# ℹ 114 more variables: PA0100 &lt;dbl+lbl&gt;, PA0200 &lt;dbl+lbl&gt;, PA0300 &lt;dbl+lbl&gt;,
#   PA0445 &lt;dbl+lbl&gt;, PA0800 &lt;dbl+lbl&gt;, PA0900 &lt;dbl+lbl&gt;, PA1000 &lt;dbl+lbl&gt;,
#   PSM0100 &lt;dbl+lbl&gt;, PEO0100a &lt;dbl+lbl&gt;, PEO0100b &lt;dbl+lbl&gt;,
#   PEO0100c &lt;dbl+lbl&gt;, PEO0100d &lt;dbl+lbl&gt;, PEO0100e &lt;dbl+lbl&gt;,
#   PEO0200a &lt;dbl+lbl&gt;, PEO0200b &lt;dbl+lbl&gt;, PEO0200c &lt;dbl+lbl&gt;,
#   PEO0200d &lt;dbl+lbl&gt;, PEO0300a &lt;dbl+lbl&gt;, PEO0300b &lt;dbl+lbl&gt;,
#   PEO0300c &lt;dbl+lbl&gt;, PEO0300d &lt;dbl+lbl&gt;, PEO0300e &lt;dbl+lbl&gt;, …</code></pre>
</div>
</div>
<p>We can also export and restore other objects. However, we need to <code>load()</code> them, which will result in restoring the previous object name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(studs, <span class="at">file =</span> <span class="st">"./data/stud_vektor.RData"</span>)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(studs)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>studs</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/stud_vektor.RData"</span>) <span class="co"># studs is back with the same object name</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>studs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This also works for multiple Objects:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(studs,profs, <span class="at">file =</span> <span class="st">"./data/meine_vektoren.RData"</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(studs,profs)</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>studs</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>profs</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/meine_vektoren.RData"</span>) <span class="co"># studs &amp; profs restored with the same name</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>studs</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>profs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="ue_5" class="level3" data-number="2.9.1">
<h3 data-number="2.9.1" class="anchored" data-anchor-id="ue_5"><span class="header-section-number">2.9.1</span> <a href="#data5">Exercise</a></h3>
</section>
</section>
<section id="overview-importing-and-exporting-data-sets" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="overview-importing-and-exporting-data-sets"><span class="header-section-number">2.10</span> Overview: Importing and exporting data sets</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Import options</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<table class="lightable-material table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">file type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">R function</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">R package</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">.csv</td>
<td style="text-align: left; font-family: monospace;">read.table()</td>
<td style="text-align: left; font-family: monospace;">-</td>
<td style="text-align: left;">set delimiter with `sep = ";"`</td>
</tr>
<tr class="even">
<td style="text-align: left;">.Rdata (R format)</td>
<td style="text-align: left; font-family: monospace;">readRDS</td>
<td style="text-align: left; font-family: monospace;">-</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">große .csv</td>
<td style="text-align: left; font-family: monospace;">vroom()</td>
<td style="text-align: left; font-family: monospace;">{vroom}</td>
<td style="text-align: left;">set delimiter using `delim = ";"`</td>
</tr>
<tr class="even">
<td style="text-align: left;">.dta (Stata)</td>
<td style="text-align: left; font-family: monospace;">read_dta()</td>
<td style="text-align: left; font-family: monospace;">{haven}</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">.dta (Stata - große Dateien)</td>
<td style="text-align: left; font-family: monospace;">read.dta13()</td>
<td style="text-align: left; font-family: monospace;">{readstata13}</td>
<td style="text-align: left;">use convert.factors = F to import only numeric values<br>
also imports files from newer Stata versions</td>
</tr>
<tr class="even">
<td style="text-align: left;">.dat (SPSS)</td>
<td style="text-align: left; font-family: monospace;">read_spss()</td>
<td style="text-align: left; font-family: monospace;">{haven}</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">.xlsx (Excel)</td>
<td style="text-align: left; font-family: monospace;">read_xlsx()</td>
<td style="text-align: left; font-family: monospace;">{readxl}</td>
<td style="text-align: left;">use `sheet = 1`to specifiy which sheet you want</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># csv file</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">"Dateiname.csv"</span>,<span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rdata</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"Dateiname.Rdata"</span>)</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="co"># large csv</span></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vroom)</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">vroom</span>(<span class="at">file =</span> <span class="st">"Dateiname.csv"</span>,<span class="at">delim =</span> <span class="st">";"</span>)</span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Stata dta</span></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="at">file =</span> <span class="st">"Dateiname.dta"</span>)</span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-15"><a href="#cb113-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Stata large files</span></span>
<span id="cb113-16"><a href="#cb113-16" aria-hidden="true" tabindex="-1"></a><span class="co"># faster than read_dta(), but without labels</span></span>
<span id="cb113-17"><a href="#cb113-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readstata13)</span>
<span id="cb113-18"><a href="#cb113-18" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read.dta13</span>(<span class="at">file =</span> <span class="st">"Dateiname.dta"</span>,<span class="at">convert.factors =</span> F) </span>
<span id="cb113-19"><a href="#cb113-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-20"><a href="#cb113-20" aria-hidden="true" tabindex="-1"></a><span class="co"># SPSS sav</span></span>
<span id="cb113-21"><a href="#cb113-21" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="at">file =</span> <span class="st">"Dateiname.sav"</span>)</span>
<span id="cb113-22"><a href="#cb113-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-23"><a href="#cb113-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Excel</span></span>
<span id="cb113-24"><a href="#cb113-24" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"Dateiname.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"1"</span>)</span>
<span id="cb113-25"><a href="#cb113-25" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"Dateiname.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Tabellenblatt1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Export options</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<table class="lightable-material table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">file type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">R function</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">R package</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">.Rdata (R format)</td>
<td style="text-align: left; font-family: monospace;">saveRDS()</td>
<td style="text-align: left; font-family: monospace;">-</td>
<td style="text-align: left;">all variable properties remain</td>
</tr>
<tr class="even">
<td style="text-align: left;">.csv</td>
<td style="text-align: left; font-family: monospace;">write.table()</td>
<td style="text-align: left; font-family: monospace;">-</td>
<td style="text-align: left;">use `sep = ";"` to set delimiter br&gt;use row.names= F to suppress row numbering</td>
</tr>
<tr class="odd">
<td style="text-align: left;">.dta (Stata)</td>
<td style="text-align: left; font-family: monospace;">write_dta()</td>
<td style="text-align: left; font-family: monospace;">{haven}</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">.dat (SPSS)</td>
<td style="text-align: left; font-family: monospace;">write_spss()</td>
<td style="text-align: left; font-family: monospace;">{haven}</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">.xlsx (Excel)</td>
<td style="text-align: left; font-family: monospace;">write.xlsx()</td>
<td style="text-align: left; font-family: monospace;">{xlsx}</td>
<td style="text-align: left;">use `sheetName` to select excel sheet</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rdata</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(dat1,<span class="at">file =</span> <span class="st">"Dateiname.Rdata"</span>)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="co"># csv</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(dat1,<span class="at">file =</span> <span class="st">"Dateiname.csv"</span>,<span class="at">sep =</span> <span class="st">";"</span>,<span class="at">row.names =</span> F)</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="co"># dta</span></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write_dta</span>(dat1,<span class="at">path =</span> <span class="st">"Dateiname.dta"</span>)</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="co"># sav</span></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_sav</span>(dat1,<span class="at">path =</span> <span class="st">"Dateiname.sav"</span>)</span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="co"># xlsx</span></span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xlsx)</span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a><span class="fu">write.xlsx</span>(dat1,<span class="at">file =</span> <span class="st">"Dateiname.xlsx"</span>, <span class="at">sheetName =</span> <span class="st">"Tabellenblatt 1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="getting-help" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="getting-help"><span class="header-section-number">2.11</span> Getting help</h2>
<p>R packages (often) come with very detailed help pages, which can either be called up directly from RStudio:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># help for packages</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">vignette</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="fu">vignette</span>(<span class="at">package =</span> <span class="st">"dplyr"</span>)</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="fu">vignette</span>(<span class="st">"rowwise"</span>)</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="at">package =</span> <span class="st">"dplyr"</span>)</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="co"># help for a specific function</span></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a>?<span class="fu">select</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alternatively, googling the package and function mostly gives you what you need <a href="https://www.google.de/search?q=R+dplyr+select()"><strong>R dplyr select()</strong></a></p>
<p>Or refer to the CRAN site:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/102_dplyr_vignette.png" style="height:30.0%" width="488" class="figure-img"></p>
<figcaption><a href="https://cran.r-project.org/web/packages/dplyr/index.html">CRAN-Seite für {dplyr}</a></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="exercises" class="level2" data-number="2.12">
<h2 data-number="2.12" class="anchored" data-anchor-id="exercises"><span class="header-section-number">2.12</span> Exercises</h2>
<section id="data1" class="level3" data-number="2.12.1">
<h3 data-number="2.12.1" class="anchored" data-anchor-id="data1"><span class="header-section-number">2.12.1</span> Exercise 1</h3>
<ul>
<li>Create a <code>data.frame</code> object called <code>dat2</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">studs =</span> <span class="fu">c</span>(<span class="dv">14954</span>,<span class="dv">47269</span> ,<span class="dv">23659</span>,<span class="dv">9415</span> ,<span class="dv">38079</span>), </span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">profs =</span> <span class="fu">c</span>(<span class="dv">250</span>,<span class="dv">553</span>,<span class="dv">438</span> ,<span class="dv">150</span>,<span class="dv">636</span>),</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prom_recht =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>),</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">gegr  =</span> <span class="fu">c</span>(<span class="dv">1971</span>,<span class="dv">1870</span>,<span class="dv">1457</span>,<span class="dv">1818</span>,<span class="dv">1995</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Do you see <code>dat2</code> in your environment?</li>
<li>Print <code>dat2</code> in the console.</li>
<li>Add the names of the universities as a new column to the dataset. The names are in this order:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"FH Aachen"</span>,<span class="st">"RWTH Aachen"</span>,<span class="st">"Uni Freiburg"</span>,<span class="st">"Uni Bonn"</span>,<span class="st">"FH Bonn-Rhein-Sieg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "FH Aachen"          "RWTH Aachen"        "Uni Freiburg"      
[4] "Uni Bonn"           "FH Bonn-Rhein-Sieg"</code></pre>
</div>
</div>
<ul>
<li>Display <code>dat2</code> - either in the console or using <code>View()</code>.</li>
<li>Calculate the ratio of students per professor and store the results in a new variable. Check the result.</li>
<li>Display only the third row of <code>dat2</code>.</li>
<li>Display only the third column of <code>dat2</code>.</li>
</ul>
<p><em>What would you do to copy <code>dat2</code> into an object called <code>df_unis</code>?</em></p>
<p><a href="#ue_1">Back to top</a></p>
<hr>
</section>
<section id="data2" class="level3" data-number="2.12.2">
<h3 data-number="2.12.2" class="anchored" data-anchor-id="data2"><span class="header-section-number">2.12.2</span> Exercise 2</h3>
<ul>
<li><a href="#fdz_install">Create a <code>.Rprofile</code> for the package installation</a> in <code>C:\Users\*USERNAME*\Documents</code>.</li>
<li>Install the tidyverse packages using <code>fdz_install("tidyverse")</code> after placing the <code>.Rprofile</code> file under <code>C:\Users\*USERNAME*\Documents</code>.</li>
<li>Use the <code>data.frame</code> <code>dat2</code> from Exercise 1.</li>
<li>Use <code>filter</code> to display only the universities with fewer than 10,000 students. (Remember to install and load <code>{tidyverse}</code> with <code>library()</code>).</li>
<li>Display the founding years (<code>gegr</code>) column of universities with the right to award doctorates (<code>prom_recht</code>).</li>
</ul>
<p><a href="#ue_2">Back to top</a></p>
<hr>
</section>
<section id="data3" class="level3" data-number="2.12.3">
<h3 data-number="2.12.3" class="anchored" data-anchor-id="data3"><span class="header-section-number">2.12.3</span> Exercise 3</h3>
<ul>
<li>Continue using the dataset from Exercises 1 &amp; 2 (dat2)</li>
<li>Display only the universities that were founded in 1971, 1457, or 1995, and for these cases, show only the name and founding year.</li>
<li>Sort the dataset according to the following order. (Create a <code>factor</code> variable that defines this order.)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"RWTH Aachen"</span>, <span class="st">"Uni Freiburg"</span>, <span class="st">"Uni Bonn"</span>, <span class="st">"FH Aachen"</span>, <span class="st">"FH Bonn-Rhein-Sieg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "RWTH Aachen"        "Uni Freiburg"       "Uni Bonn"          
[4] "FH Aachen"          "FH Bonn-Rhein-Sieg"</code></pre>
</div>
</div>
<p><a href="#ue_3">Back to top</a></p>
<hr>
</section>
<section id="data4" class="level3" data-number="2.12.4">
<h3 data-number="2.12.4" class="anchored" data-anchor-id="data4"><span class="header-section-number">2.12.4</span> Exercise 4</h3>
<ul>
<li>Create an <a href="#rproj">R project</a> in your directory for this course.</li>
<li>Save the personal data from the PASS-CampusFile (<code>PENDDAT_cf_W13.dta</code>) in your directory in the subfolder <em>orig</em>.</li>
<li>Read the dataset <code>PENDDAT_cf_W13.dta</code> <a href="#import">as shown above</a> into R and assign it to the object name <code>pend</code>.</li>
<li>Use <code>head()</code> and <code>View()</code> to get an overview of the dataset.</li>
<li>How many entries (rows) does the dataset contain?</li>
<li>Display the variable names of <code>pend</code> using <code>names()</code>!</li>
<li>How old is the respondent with the <code>pnr</code> 1000908201 in <code>welle</code> 10 (in <code>pintjahr</code> 2016)?</li>
<li>Display the wave (<code>welle</code>) and age (<code>palter</code>) of respondent with the <code>pnr</code> 1000908201?</li>
<li>Store the resulting data.frame in an object, e.g.&nbsp;<code>resp_1000908201</code>.</li>
</ul>
<p><a href="#ue_4">Back to top</a></p>
<hr>
</section>
<section id="data5" class="level3" data-number="2.12.5">
<h3 data-number="2.12.5" class="anchored" data-anchor-id="data5"><span class="header-section-number">2.12.5</span> Exercise 5</h3>
<ul>
<li>Export the <code>data.frame</code> <code>resp_1000908201</code> created in the previous exercise as an <code>.Rdata</code> file.</li>
<li>Load the exported <code>.Rdata</code> file under a different name, e.g., <code>resp_1000908201_new</code>.</li>
<li>Did everything work? Compare the newly loaded object with the original one: <code>identical(resp_1000908201, resp_1000908201_new)</code> - are both objects identical?</li>
</ul>
<p><a href="#ue_5">Back to top</a></p>
</section>
</section>
<section id="appendix" class="level2" data-number="2.13">
<h2 data-number="2.13" class="anchored" data-anchor-id="appendix"><span class="header-section-number">2.13</span> Appendix</h2>
<section id="setwd" class="level3" data-number="2.13.1">
<h3 data-number="2.13.1" class="anchored" data-anchor-id="setwd"><span class="header-section-number">2.13.1</span> Alternatives to R Projects</h3>
<p>Besides setting up a project, you can also set the path using <code>setwd()</code> or directly specify it within <code>read_dta()</code> or other <code>read...()</code> commands. However, this approach is less portable to other machines. When someone else opens the <code>.Rproj</code> file, R automatically sets paths relative to the file’s location. This is also true if the directory is moved on your device—R will automatically adjust the working directory.</p>
<p>To set the working directory with <code>setwd()</code>, insert the folder path within the parentheses. Make sure to replace any <code>\</code> with <code>/</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"D:/Kurse/R_IAB"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can check if it worked with <code>getwd()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The path you set with <code>setwd()</code> should appear.</p>
<p>Alternatively, you can provide the full path directly in <code>read_dta()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>pend <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_dta</span>(<span class="st">"C:/Kurse/R_IAB/orig/PENDDAT_cf_W13.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="selfiltbase" class="level3" data-number="2.13.2">
<h3 data-number="2.13.2" class="anchored" data-anchor-id="selfiltbase"><span class="header-section-number">2.13.2</span> Selecting Rows &amp; Columns Without <code>{dplyr}</code></h3>
<p>Base R (without extensions like <code>{dplyr}</code>) can also filter datasets using square brackets <code>[]</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>dat1[<span class="dv">1</span>, <span class="dv">1</span>] <span class="co"># first row, first column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19173</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>dat1[<span class="dv">1</span>, ]  <span class="co"># first row, all columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof        uni    uni_fct gegr_fct
1 19173   322 1971 59.54348 Uni Bremen Uni Bremen      70s</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>dat1[, <span class="dv">1</span>]  <span class="co"># all rows, first column (equivalent to dat1$studs)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19173  5333 15643</code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>dat1[, <span class="st">"studs"</span>] <span class="co"># all rows, column named studs -&gt; note the ""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19173  5333 15643</code></pre>
</div>
</div>
<p>You can also select multiple rows or columns by using <code>c()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>dat1[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), ]  <span class="do">## 1st &amp; 2nd row, all columns</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>dat1[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]  <span class="do">## all rows, 1st &amp; 3rd column (equivalent to dat1$studs &amp; dat1$stu_prof)</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>dat1[, <span class="fu">c</span>(<span class="st">"studs"</span>, <span class="st">"uni"</span>)] <span class="do">## all rows, columns named studs and uni</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also write conditions in these square brackets to make selections from <code>dat1</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="co"># full dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
1 19173   322 1971 59.54348    Uni Bremen    Uni Bremen      70s
2  5333    67 1830 79.59701    Uni Vechta    Uni Vechta    early
3 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>dat1[dat1<span class="sc">$</span>uni <span class="sc">==</span> <span class="st">"Uni Oldenburg"</span>, ] <span class="co"># Rows where uni equals "Uni Oldenburg", all columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
3 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s</code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>studs[dat1<span class="sc">$</span>uni <span class="sc">==</span> <span class="st">"Uni Oldenburg"</span>] <span class="co"># Just check the student count: no comma needed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15643</code></pre>
</div>
</div>
<p>This works as expected, and we can expand it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>dat1[dat1<span class="sc">$</span>uni <span class="sc">==</span> <span class="st">"Uni Oldenburg"</span> <span class="sc">&amp;</span> dat1<span class="sc">$</span>studs <span class="sc">&gt;</span> <span class="dv">10000</span>, ] <span class="co"># &amp; means AND</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
3 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s</code></pre>
</div>
</div>
<p>You can also use the OR operator:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>dat1[dat1<span class="sc">$</span>uni <span class="sc">==</span> <span class="st">"Uni Oldenburg"</span> <span class="sc">|</span> dat1<span class="sc">$</span>studs <span class="sc">&gt;</span> <span class="dv">10000</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs profs gegr stu_prof           uni       uni_fct gegr_fct
1 19173   322 1971 59.54348    Uni Bremen    Uni Bremen      70s
3 15643   210 1973 74.49048 Uni Oldenburg Uni Oldenburg      70s</code></pre>
</div>
</div>
</section>
<section id="select-vs" class="level3" data-number="2.13.3">
<h3 data-number="2.13.3" class="anchored" data-anchor-id="select-vs"><span class="header-section-number">2.13.3</span> <code>select()</code> vs <code>$</code></h3>
<p>When you use <code>select()</code> to pick a specific variable, it preserves the data structure as a <code>data.frame()</code>, whereas <code>dat1$variablename</code> extracts the column as a vector (a series of values):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>studs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19173  5333 15643</code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat1<span class="sc">$</span>studs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>studs <span class="sc">/</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 958.65 266.65 782.15</code></pre>
</div>
</div>
<p><code>select()</code> keeps the values as a column in a <code>data.frame</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(studs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  studs
1 19173
2  5333
3 15643</code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(studs) <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(studs) <span class="sc">/</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   studs
1 958.65
2 266.65
3 782.15</code></pre>
</div>
</div>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>In many other programming languages, these are called libraries.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>There are more, and this enumeration ignores technical details—for an <a href="https://r4ds.had.co.nz/vectors.html">advanced introduction to vectors in R, click here</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>We will see <a href="#packages">soon</a> how packages can make working in R easier.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>It has become common in the R community to write packages with <code>{}</code> to distinguish them more clearly from functions. I follow this convention in this script.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Sometimes the dataset is not in the project’s subfolder, in which case the entire path can be specified in <code>read_dta()</code>: <code>pend &lt;- read_dta(file = "D:/Courses/R-Course/data/PENDDAT_cf_W13.dta")</code><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./01_intro.html" class="pagination-link" aria-label="Getting started with R">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started with R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_desc.html" class="pagination-link" aria-label="Getting an Overview">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Getting an Overview</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>All content <i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> 2024 by <a href="https://afilser.netlify.app/">Andreas Filser</a><br> <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC Lizenz mit Namensnennung <i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> <i class="fa-brands fa-creative-commons-by" aria-label="creative-commons-by"></i> <i class="fa-brands fa-creative-commons-nc" aria-label="creative-commons-nc"></i></a><br> Created using <i class="fa-brands fa-r-project" aria-label="r-project"></i>, Code <a href="https://github.com/filius23/GradAB_R2024">can be viewed here <i class="fa-brands fa-github" aria-label="github"></i></a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>